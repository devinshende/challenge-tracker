{% extends "table_base.html" %}
{% block title %} Leaderboard {% endblock %}
{% block top %} {{header}} {% endblock %}
{% block imghref %}/{{username}}{% endblock %}
{% block content %}
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<style type="text/css">
	.material-switch > input[type="checkbox"] {
		display: none;   
	}

	.material-switch > label {
	    cursor: pointer;
	    height: 0px;
	    position: relative; 
	    width: 40px;  
	}

	.material-switch > label::before {
	    background: rgb(0, 0, 0);
	    box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);
	    border-radius: 8px;
	    content: ''; 
	    height: 24px;
	    top:-4px;
	    margin-top: -8px;
	    position:absolute;
	    opacity: 0.3;
	    transition: all 0.4s ease-in-out;
	    width: 40px;
	    border-radius:12px;
	}
	.material-switch > label::after {
	    background: rgb(255, 255, 255);
	    border-radius: 16px;
	    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);
	    content: '';
	    height: 24px;
	    left: 16px;
	    margin-top: -8px;
	    position: absolute;
	    top: -4px;
	    transition: all 0.3s ease-in-out;
	    width: 24px;
	}
	.material-switch > input[type="checkbox"]:checked + label::before {
	    background: inherit;
	    opacity: 0.5;
	}
	.material-switch > input[type="checkbox"]:checked + label::after {
	    background: inherit;
	    left: 34px;
	}

	p {
		display:inline;
		margin-right:10px;
	}


	</style>

<br>
{% if challenge_dict %}
<div class="wrapper">
	<div id="formContent">
	<br>
	<form method="POST">
		<label for="challenge">Challenge: </label>
		<select name="challenge" required="required" class="fadeIn second" id="select">
			<option value="" hidden>Select Challenge</option>

			<optgroup label="Time (seconds)">
		    {% for item in challenge_dict['time'] %}
		    	<option value="{{ item }}" required="required">{{item}}</option>
		    {% endfor %}
			</optgroup>

		    <optgroup label="Laps">
		    {% for item in challenge_dict['laps'] %}
		    	<option value="{{ item }}" required="required">{{item}}</option>
		    {% endfor %}
			</optgroup>

		    <optgroup label="Reps (in one minute)">
		    {% for item in challenge_dict['reps'] %}
		    	<option value="{{ item }}" required="required">{{item}}</option>
		    {% endfor %}
		    </optgroup>
		</select>
		<br>
		<br>
	    <div class="material-switch pull-right">
       		<p>Brackets: </p>
	        <input id="someSwitchOptionDefault" name="someSwitchOption001" type="checkbox"/>
	        <label for="someSwitchOptionDefault" class="label-default"></label>
	    </div>
	    <br>
	    <br>
		<input type="submit" class="fadeIn fourth" value="Load Leaderboard" id="submit">
		</div>
		</form>
	</div>
</div>
{% endif %}
{% if not challenge_dict %}
{% if data %}

	<div class="container">

	    <br>
	    <br>
	    <br>

	<table>
		<thead>
			<tr class="table-head">
				<th>Place</th>
				<th>Name</th>
				<th>{{challenge_type}}</th>
				<th>Date</th>
				<th>Comment</th>
			</tr>
		</thead>
		<tbody>
			{% for item in data %}
				<tr>
					<!-- place -->
					<td>{{data.index(item)+1}}</td>
					<!-- name -->
					<td>{{item[0]}}</td> 
					
					<!-- score -->
					{% if challenge_type == 'time' %}
					<td>{{item[1]}} seconds</td>
					{% endif %}
					<td>{{item[1]}}</td>
					<!-- date -->
					<td>{{item[2]}}</td>
					<!-- comment -->
					<td>{{item[3]}}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endif %}
{% if not data %}
<p class="nothing">There are no competitors for that challenge</p>
{% endif %}
<a href="/{{username}}/leaderboard" class="btn">Pick a new challenge</a>
</div>	
{% endif %}
{% endblock %}